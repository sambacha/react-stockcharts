{"version":3,"sources":["../../../src/lib/interactive/FibonacciRetracement.js"],"names":["FibonacciRetracement","props","handleStart","bind","handleEnd","handleDrawRetracement","handleEdge1Drag","handleEdge2Drag","handleDrag","handleDragComplete","terminate","getSelectionState","getHoverInteractive","saveNodeType","nodes","state","xyValue","current","x1","mouseMoved","setState","x2","y2","index","xy","override","echo","newXYValue","origXYValue","retracements","dx","x1Value","y1","x2Value","moreProps","rest","newRetracements","map","each","idx","selected","onComplete","onStart","e","appearance","type","concat","hovering","retracement","isHover","currentPositionStroke","currentPositionOpacity","currentPositionStrokeWidth","currentPositionRadius","enabled","hoverText","overrideIndex","hoverTextWidthDefault","defaultProps","currentRetracement","eachAppearance","eachHoverText","Component","propTypes","PropTypes","bool","isRequired","width","number","func","onSelect","oneOf","object","string","array","shape","stroke","strokeWidth","strokeOpacity","fontFamily","fontSize","fontFill","edgeStroke","edgeFill","nsEdgeFill","edgeStrokeWidth","r","noop","HoverTextNearMouse","enable","bgHeight","bgWidth","text","selectedText"],"mappings":"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","file":"FibonacciRetracement.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { isDefined, isNotDefined, noop } from \"../utils\";\nimport {\n\tterminate,\n\tsaveNodeType,\n\tisHoverForInteractiveType,\n} from \"./utils\";\nimport EachFibRetracement from \"./wrapper/EachFibRetracement\";\nimport MouseLocationIndicator from \"./components/MouseLocationIndicator\";\nimport HoverTextNearMouse from \"./components/HoverTextNearMouse\";\n\nclass FibonacciRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStart = this.handleStart.bind(this);\n\t\tthis.handleEnd = this.handleEnd.bind(this);\n\t\tthis.handleDrawRetracement = this.handleDrawRetracement.bind(this);\n\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\n\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.terminate = terminate.bind(this);\n\t\tthis.getSelectionState = isHoverForInteractiveType(\"retracements\")\n\t\t\t.bind(this);\n\t\tthis.getHoverInteractive = this.getHoverInteractive.bind(this);\n\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = [];\n\n\t\tthis.state = {\n\t\t};\n\t}\n\thandleDrawRetracement(xyValue) {\n\t\tconst { current } = this.state;\n\t\tif (isDefined(current) && isDefined(current.x1)) {\n\t\t\tthis.mouseMoved = true;\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\t...current,\n\t\t\t\t\tx2: xyValue[0],\n\t\t\t\t\ty2: xyValue[1]\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDrag(index, xy) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\t...xy\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge1Drag(echo, newXYValue, origXYValue) {\n\t\tconst { retracements } = this.props;\n\t\tconst { index } = echo;\n\n\t\tconst dx = origXYValue.x1Value - newXYValue.x1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1 - dx,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2,\n\t\t\t\ty2: retracements[index].y2\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge2Drag(echo, newXYValue, origXYValue) {\n\t\tconst { retracements } = this.props;\n\t\tconst { index } = echo;\n\n\t\tconst dx = origXYValue.x2Value - newXYValue.x2Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2 - dx,\n\t\t\t\ty2: retracements[index].y2\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete(moreProps) {\n\t\tconst { retracements } = this.props;\n\t\tconst { override } = this.state;\n\t\tif (isDefined(override)) {\n\t\t\tconst { index, ...rest } = override;\n\n\t\t\tconst newRetracements = retracements.map(\n\t\t\t\t(each, idx) =>\n\t\t\t\t\t(idx === index\n\t\t\t\t\t\t? { ...each, ...rest, selected: true }\n\t\t\t\t\t\t: each)\n\t\t\t);\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\toverride: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onComplete(newRetracements, moreProps);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\thandleStart(xyValue, moreProps) {\n\t\tconst { current } = this.state;\n\t\tif (isNotDefined(current) || isNotDefined(current.x1)) {\n\t\t\tthis.mouseMoved = false;\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tcurrent: {\n\t\t\t\t\t\tx1: xyValue[0],\n\t\t\t\t\t\ty1: xyValue[1],\n\t\t\t\t\t\tx2: null,\n\t\t\t\t\t\ty2: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onStart(moreProps);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\thandleEnd(xyValue, moreProps, e) {\n\t\tconst { retracements, appearance, type } = this.props;\n\t\tconst { current } = this.state;\n\n\t\tif (this.mouseMoved && isDefined(current) && isDefined(current.x1)) {\n\t\t\tconst newRetracements = retracements.concat({\n\t\t\t\t...current,\n\t\t\t\tx2: xyValue[0],\n\t\t\t\ty2: xyValue[1],\n\t\t\t\tselected: true,\n\t\t\t\tappearance,\n\t\t\t\ttype,\n\t\t\t});\n\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tcurrent: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onComplete(newRetracements, moreProps, e);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\tgetHoverInteractive(hovering, retracement) {\n\t\tretracement.hovering = hovering;\n\t\tconst { isHover } = this.props;\n\t\tisHover(hovering, retracement);\n\t}\n\n\trender() {\n\t\tconst { current, override } = this.state;\n\t\tconst { retracements } = this.props;\n\n\t\tconst {\n\t\t\tappearance,\n\t\t\ttype\n\t\t} = this.props;\n\t\tconst {\n\t\t\tcurrentPositionStroke,\n\t\t\tcurrentPositionOpacity,\n\t\t\tcurrentPositionStrokeWidth,\n\t\t\tcurrentPositionRadius\n\t\t} = this.props;\n\n\t\tconst { enabled, hoverText } = this.props;\n\t\tconst overrideIndex = isDefined(override) ? override.index : null;\n\t\tconst hoverTextWidthDefault = {\n\t\t\t...FibonacciRetracement.defaultProps.hoverText,\n\t\t\t...hoverText\n\t\t};\n\n\t\tconst currentRetracement = isDefined(current) && isDefined(current.x2)\n\t\t\t? <EachFibRetracement\n\t\t\t\tinteractive={false}\n\t\t\t\ttype={type}\n\t\t\t\tappearance={appearance}\n\t\t\t\thoverText={hoverTextWidthDefault}\n\t\t\t\t{...current}\n\t\t\t/>\n\t\t\t: null;\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{retracements.map((each, idx) => {\n\t\t\t\t\tconst eachAppearance = isDefined(each.appearance)\n\t\t\t\t\t\t? { ...appearance, ...each.appearance }\n\t\t\t\t\t\t: appearance;\n\n\t\t\t\t\tconst eachHoverText = isDefined(each.hoverText)\n\t\t\t\t\t\t? { ...hoverTextWidthDefault, ...each.hoverText }\n\t\t\t\t\t\t: hoverTextWidthDefault;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EachFibRetracement\n\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\tref={this.saveNodeType(idx)}\n\t\t\t\t\t\t\tindex={idx}\n\t\t\t\t\t\t\ttype={each.type}\n\t\t\t\t\t\t\tselected={each.selected}\n\t\t\t\t\t\t\t{...(idx === overrideIndex ? override : each)}\n\t\t\t\t\t\t\thoverText={eachHoverText}\n\t\t\t\t\t\t\tappearance={eachAppearance}\n\t\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t\t\t\tgetHoverInteractive={hovering => this.getHoverInteractive(hovering, each)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{currentRetracement}\n\t\t\t\t<MouseLocationIndicator\n\t\t\t\t\tenabled={enabled}\n\t\t\t\t\tsnap={false}\n\t\t\t\t\tr={currentPositionRadius}\n\t\t\t\t\tstroke={currentPositionStroke}\n\t\t\t\t\topacity={currentPositionOpacity}\n\t\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\n\t\t\t\t\tonMouseDown={this.handleStart}\n\t\t\t\t\tonClick={this.handleEnd}\n\t\t\t\t\tonMouseMove={this.handleDrawRetracement}\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\n// onClick={this.handleClick}\n\nFibonacciRetracement.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\twidth: PropTypes.number,\n\n\tonStart: PropTypes.func,\n\tonComplete: PropTypes.func,\n\tonSelect: PropTypes.func,\n\n\ttype: PropTypes.oneOf([\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"BOUND\" // extends between the set bounds\n\t]).isRequired,\n\thoverText: PropTypes.object.isRequired,\n\n\tcurrentPositionStroke: PropTypes.string,\n\tcurrentPositionStrokeWidth: PropTypes.number,\n\tcurrentPositionOpacity: PropTypes.number,\n\tcurrentPositionRadius: PropTypes.number,\n\n\tretracements: PropTypes.array.isRequired,\n\n\tappearance: PropTypes.shape({\n\t\tstroke: PropTypes.string.isRequired,\n\t\tstrokeWidth: PropTypes.number.isRequired,\n\t\tstrokeOpacity: PropTypes.number.isRequired,\n\t\tfontFamily: PropTypes.string.isRequired,\n\t\tfontSize: PropTypes.number.isRequired,\n\t\tfontFill: PropTypes.string.isRequired,\n\t\tedgeStroke: PropTypes.string.isRequired,\n\t\tedgeFill: PropTypes.string.isRequired,\n\t\tnsEdgeFill: PropTypes.string.isRequired,\n\t\tedgeStrokeWidth: PropTypes.number.isRequired,\n\t\tr: PropTypes.number.isRequired,\n\t}).isRequired\n};\n\nFibonacciRetracement.defaultProps = {\n\tenabled: true,\n\ttype: \"RAY\",\n\tretracements: [],\n\n\tonStart: noop,\n\tonComplete: noop,\n\tonSelect: noop,\n\n\thoverText: {\n\t\t...HoverTextNearMouse.defaultProps,\n\t\tenable: true,\n\t\tbgHeight: \"auto\",\n\t\tbgWidth: \"auto\",\n\t\ttext: \"Click to select object\",\n\t\tselectedText: \"\",\n\t},\n\tcurrentPositionStroke: \"#000000\",\n\tcurrentPositionOpacity: 1,\n\tcurrentPositionStrokeWidth: 3,\n\tcurrentPositionRadius: 4,\n\n\tappearance: {\n\t\tstroke: \"#000000\",\n\t\tstrokeWidth: 1,\n\t\tstrokeOpacity: 1,\n\t\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\t\tfontSize: 11,\n\t\tfontFill: \"#000000\",\n\t\tedgeStroke: \"#FF0000\",\n\t\tedgeFill: \"#FF0000\",\n\t\tnsEdgeFill: \"#FF0000\",\n\t\tedgeStrokeWidth: 1,\n\t\tr: 6,\n\t}\n};\n\nexport default FibonacciRetracement;\n"]}