{"version":3,"sources":["../../../../src/lib/interactive/components/Transform.js"],"names":["getNewXY","pointDirection","x1","y1","x2","y2","Math","atan2","PI","Transform","props","handleEdgeBottomDragStart","bind","handleEdgeBottomDrag","handleDrag","handleDragStart","handleEdgeTopDragStart","handleEdgeTopDrag","handleEdgeLeftDragStart","handleEdgeLeftDrag","handleEdgeRightDragStart","handleEdgeRightDrag","handleDragComplete","saveNodeType","nodes","state","anchor","undefined","moreProps","position","edgeRight","edgeLeft","edgeAngleTop","edgeAngleBottom","appearance","mouseXY","yScale","chartConfig","xScale","mouseX","mouseY","textCX","textCY","dx","dy","rightCX","rightCY","dXR","dYR","leftCX","leftCY","dXL","dYL","topCX","topCY","dXT","dYT","bottomCX","bottomY","dXB","dYB","dragStartPosition","index","onDrag","width","height","degrees","xAccessor","plotData","xValue","invert","xyValue","xRValue","xyRValue","xLValue","xyLValue","xTValue","xyTValue","xBValue","xyBValue","setState","currentItem","newWidth","abs","onDragComplete","newHeight","newDegrees","stroke","opacity","fill","r","edgeStrokeWidth","edgeFill","edgeStroke","edgeInteractiveCursor","hoverText","selected","figure","onHover","onUnHover","hoverTextEnabled","enable","hoverTextSelected","selectedText","hoverTextUnselected","text","restHoverTextProps","Component","x","domain","slice","sort","d3Ascending","small","big","y","newY","min","max","propTypes","PropTypes","number","func","isRequired","onSelect","onUnSelect","defaultClassName","string","bool","object","defaultProps","noop","onEdge1Drag","onEdge2Drag","strokeWidth","strokeOpacity"],"mappings":"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","file":"Transform.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { ascending as d3Ascending } from \"d3-array\";\nimport { noop } from \"../../utils\";\nimport { saveNodeType } from \"../utils\";\nimport { getXValue } from \"../../utils/ChartDataUtil\";\n\nimport ClickableCircle from \"./ClickableCircle\";\nimport ClickableRect from \"./ClickableRect\";\nimport BackgroundHover from \"./BackgroundHover\";\nimport AnnotateShape from \"./AnnotateShape\";\n\nfunction pointDirection(x1, y1, x2, y2) {\n\treturn Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n}\n\nclass Transform extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleEdgeBottomDragStart = this.handleEdgeBottomDragStart.bind(this);\n\t\tthis.handleEdgeBottomDrag = this.handleEdgeBottomDrag.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\n\t\tthis.handleEdgeTopDragStart = this.handleEdgeTopDragStart.bind(this);\n\t\tthis.handleEdgeTopDrag = this.handleEdgeTopDrag.bind(this);\n\n\t\tthis.handleEdgeLeftDragStart = this.handleEdgeLeftDragStart.bind(this);\n\t\tthis.handleEdgeLeftDrag = this.handleEdgeLeftDrag.bind(this);\n\n\t\tthis.handleEdgeRightDragStart = this.handleEdgeRightDragStart.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.handleEdgeRightDrag = this.handleEdgeRightDrag.bind(this);\n\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = {};\n\n\t\tthis.state = {\n\t\t\tanchor: undefined\n\t\t};\n\t}\n\n\thandleDragStart(moreProps) {\n\t\tconst {\n\t\t\tposition,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\tappearance,\n\t\t} = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst {\n\t\t\tchartConfig: { yScale },\n\t\t\txScale,\n\t\t} = moreProps;\n\t\tconst [mouseX, mouseY] = mouseXY;\n\n\t\tconst [textCX, textCY] = position;\n\t\tconst dx = mouseX - xScale(textCX);\n\t\tconst dy = mouseY - yScale(textCY);\n\n\t\tconst [rightCX, rightCY] = edgeRight;\n\t\tconst dXR = mouseX - xScale(rightCX);\n\t\tconst dYR = mouseY - yScale(rightCY);\n\n\t\tconst [leftCX, leftCY] = edgeLeft;\n\t\tconst dXL = mouseX - xScale(leftCX);\n\t\tconst dYL = mouseY - yScale(leftCY);\n\n\t\tconst [topCX, topCY] = edgeAngleTop;\n\t\tconst dXT = mouseX - xScale(topCX);\n\t\tconst dYT = mouseY - yScale(topCY);\n\n\t\tconst [bottomCX, bottomY] = edgeAngleBottom;\n\t\tconst dXB = mouseX - xScale(bottomCX);\n\t\tconst dYB = mouseY - yScale(bottomY);\n\n\t\tthis.dragStartPosition = {\n\t\t\tposition,\n\t\t\tdx,\n\t\t\tdy,\n\t\t\tdXR,\n\t\t\tdYR,\n\t\t\tdXL,\n\t\t\tdYL,\n\t\t\tdXT,\n\t\t\tdYT,\n\t\t\tdXB,\n\t\t\tdYB,\n\t\t};\n\t}\n\n\thandleDrag(moreProps) {\n\t\tconst { index, onDrag, width, height, degrees } = this.props;\n\n\t\tconst {\n\t\t\tmouseXY: [, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t\txAccessor,\n\t\t\tmouseXY,\n\t\t\tplotData,\n\t\t\txScale,\n\t\t} = moreProps;\n\n\t\tconst {\n\t\t\tdx,\n\t\t\tdy,\n\t\t\tdXR,\n\t\t\tdYR,\n\t\t\tdXL,\n\t\t\tdYL,\n\t\t\tdXT,\n\t\t\tdYT,\n\t\t\tdXB,\n\t\t\tdYB,\n\t\t} = this.dragStartPosition;\n\t\tconst xValue = xScale.invert(\n\t\t\txScale(getXValue(xScale, xAccessor, mouseXY, plotData)) - dx\n\t\t);\n\t\tconst xyValue = [xValue, yScale.invert(mouseY - dy)];\n\n\t\t// RIGHT\n\t\tconst xRValue = xScale.invert(\n\t\t\txScale(getXValue(xScale, xAccessor, mouseXY, plotData)) - dXR\n\t\t);\n\t\tconst xyRValue = [xRValue, yScale.invert(mouseY - dYR)];\n\n\t\t// LEFT\n\t\tconst xLValue = xScale.invert(\n\t\t\txScale(getXValue(xScale, xAccessor, mouseXY, plotData)) - dXL\n\t\t);\n\t\tconst xyLValue = [xLValue, yScale.invert(mouseY - dYL)];\n\n\t\t// TOP\n\t\tconst xTValue = xScale.invert(\n\t\t\txScale(getXValue(xScale, xAccessor, mouseXY, plotData)) - dXT\n\t\t);\n\t\tconst xyTValue = [xTValue, yScale.invert(mouseY - dYT)];\n\n\t\t// TOP\n\t\tconst xBValue = xScale.invert(\n\t\t\txScale(getXValue(xScale, xAccessor, mouseXY, plotData)) - dXB\n\t\t);\n\t\tconst xyBValue = [xBValue, yScale.invert(mouseY - dYB)];\n\n\t\tonDrag(index, xyValue, {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tedgeRight: xyRValue,\n\t\t\tedgeLeft: xyLValue,\n\t\t\tedgeAngleTop: xyTValue,\n\t\t\tedgeAngleBottom: xyBValue,\n\t\t\tdegrees,\n\t\t});\n\t}\n\thandleEdgeLeftDragStart(moreProps) {\n\t\tconst { position, edgeLeft } = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst {\n\t\t\tchartConfig: { yScale },\n\t\t\txScale,\n\t\t} = moreProps;\n\t\tconst [mouseX, mouseY] = mouseXY;\n\n\t\tconst [textCX, textCY] = edgeLeft;\n\t\tconst dx = mouseX - xScale(textCX);\n\t\tconst dy = mouseY - yScale(textCY);\n\n\t\tthis.dragStartPosition = {\n\t\t\tedgeLeft,\n\t\t\tdx,\n\t\t\tdy,\n\t\t};\n\t\tthis.setState({\n\t\t\tanchor: \"edgeLeft\",\n\t\t});\n\t}\n\thandleEdgeLeftDrag(moreProps) {\n\t\tconst {\n\t\t\tindex,\n\t\t\tposition,\n\t\t\twidth,\n\t\t\tonDrag,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\theight,\n\t\t\tdegrees,\n\t\t} = this.props;\n\t\tconst {\n\t\t\txScale,\n\t\t\tmouseXY: [mouseX, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t\txAccessor,\n\t\t\tcurrentItem,\n\t\t} = moreProps;\n\t\tconst { dx, dy } = this.dragStartPosition;\n\n\t\tconst newWidth = Math.abs(xScale(position[0]) - mouseX  + width / 2);\n\n\t\tonDrag(index, position, {\n\t\t\twidth: newWidth,\n\t\t\theight,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\tdegrees,\n\t\t});\n\t}\n\n\thandleEdgeRightDragStart(moreProps) {\n\t\tconst { position, edgeRight } = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst {\n\t\t\tchartConfig: { yScale },\n\t\t\txScale,\n\t\t} = moreProps;\n\t\tconst [mouseX, mouseY] = mouseXY;\n\n\t\tconst [textCX, textCY] = edgeRight;\n\t\tconst dx = mouseX - xScale(textCX);\n\t\tconst dy = mouseY - yScale(textCY);\n\n\t\tthis.dragStartPosition = {\n\t\t\tedgeRight,\n\t\t\tdx,\n\t\t\tdy,\n\t\t};\n\t\tthis.setState({\n\t\t\tanchor: \"edgeRight\",\n\t\t});\n\t}\n\thandleEdgeRightDrag(moreProps) {\n\t\tconst {\n\t\t\tindex,\n\t\t\tposition,\n\t\t\twidth,\n\t\t\tonDrag,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\theight,\n\t\t\tdegrees,\n\t\t} = this.props;\n\t\tconst {\n\t\t\txScale,\n\t\t\tmouseXY: [mouseX, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t\txAccessor,\n\t\t\tcurrentItem,\n\t\t} = moreProps;\n\t\tconst { dx, dy } = this.dragStartPosition;\n\n\t\tconst newWidth = Math.abs(mouseX - xScale(position[0]) + width / 2);\n\n\t\tonDrag(index, position, {\n\t\t\twidth: newWidth,\n\t\t\theight,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\tdegrees,\n\t\t});\n\t}\n\n\thandleEdgeTopDragStart(moreProps) {\n\t\tthis.setState({\n\t\t\tanchor: \"edgeTop\",\n\t\t});\n\t}\n\thandleEdgeBottomDragStart(moreProps) {\n\t\tthis.setState({\n\t\t\tanchor: \"edgeBottom\",\n\t\t});\n\t}\n\thandleDragComplete(...rest) {\n\t\tthis.setState({\n\t\t\tanchor: undefined,\n\t\t});\n\t\tthis.props.onDragComplete(...rest);\n\t}\n\thandleEdgeTopDrag(moreProps) {\n\t\tconst {\n\t\t\tindex,\n\t\t\tposition,\n\t\t\twidth,\n\t\t\tonDrag,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\theight,\n\t\t\tdegrees,\n\t\t} = this.props;\n\t\tconst {\n\t\t\txScale,\n\t\t\tmouseXY: [mouseX, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t\txAccessor,\n\t\t\tcurrentItem,\n\t\t} = moreProps;\n\n\t\tconst newHeight = Math.abs(yScale(position[1]) - mouseY  + height / 2);\n\t\tconst newDegrees = pointDirection(mouseX, mouseY, position[0], position[1]);\n\n\t\tonDrag(index, position, {\n\t\t\twidth: newHeight,\n\t\t\theight: newHeight,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tdegrees,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t});\n\t}\n\thandleEdgeBottomDrag(moreProps) {\n\t\tconst {\n\t\t\tindex,\n\t\t\tposition,\n\t\t\twidth,\n\t\t\tonDrag,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\theight,\n\t\t\tdegrees,\n\t\t} = this.props;\n\t\tconst {\n\t\t\txScale,\n\t\t\tmouseXY: [mouseX, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t\txAccessor,\n\t\t\tcurrentItem,\n\t\t} = moreProps;\n\n\t\tconst newHeight = Math.abs(mouseY - yScale(position[1]) + height / 2);\n\t\tconst newWidth = Math.abs(mouseY - yScale(position[1]) + width / 2);\n\t\tconst newDegrees = pointDirection(mouseX, mouseY, position[0], position[1]);\n\n\t\tonDrag(index, position, {\n\t\t\twidth: newWidth,\n\t\t\theight: newHeight,\n\t\t\tedgeRight,\n\t\t\tedgeLeft,\n\t\t\tedgeAngleTop,\n\t\t\tedgeAngleBottom,\n\t\t\tdegrees,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tstroke,\n\t\t\topacity,\n\t\t\tfill,\n\t\t\tr,\n\t\t\tedgeStrokeWidth,\n\t\t\tedgeFill,\n\t\t\tedgeStroke,\n\t\t\tedgeInteractiveCursor,\n\t\t\thoverText,\n\t\t\tselected,\n\t\t\tposition,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tdegrees,\n\t\t\tfigure,\n\t\t\tonHover,\n\t\t\tonUnHover,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tenable: hoverTextEnabled,\n\t\t\tselectedText: hoverTextSelected,\n\t\t\ttext: hoverTextUnselected,\n\t\t\t...restHoverTextProps\n\t\t} = hoverText;\n\n\t\tconst { anchor } = this.state;\n\n\t\treturn (\n\t\t\t<g transform={`rotate(${degrees} ${position[0]} ${position[1]})`}>\n\t\t\t\t<ClickableCircle\n\t\t\t\t\tref={this.saveNodeType(\"edgeTop\")}\n\t\t\t\t\tshow={selected}\n\t\t\t\t\tcx={position[0]}\n\t\t\t\t\tcy={position[1]}\n\t\t\t\t\tr={r}\n\t\t\t\t\tfill={edgeFill}\n\t\t\t\t\tstroke={anchor === \"edgeTop\" ? stroke : edgeStroke}\n\t\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\t\tstrokeOpacity={1}\n\t\t\t\t\tinteractiveCursorClass={edgeInteractiveCursor}\n\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tonDragStart={this.handleEdgeTopDragStart}\n\t\t\t\t\tonDrag={this.handleEdgeTopDrag}\n\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t/>\n\t\t\t\t<ClickableCircle\n\t\t\t\t\tref={this.saveNodeType(\"edgeBottom\")}\n\t\t\t\t\tshow={selected}\n\t\t\t\t\tcx={position[0]}\n\t\t\t\t\tcy={position[1]}\n\t\t\t\t\tr={r}\n\t\t\t\t\tfill={edgeFill}\n\t\t\t\t\tstroke={anchor === \"edgeBottom\" ? stroke : edgeStroke}\n\t\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\t\tstrokeOpacity={1}\n\t\t\t\t\tinteractiveCursorClass={edgeInteractiveCursor}\n\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tonDragStart={this.handleEdgeBottomDragStart}\n\t\t\t\t\tonDrag={this.handleEdgeBottomDrag}\n\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t/>\n\t\t\t\t<ClickableRect\n\t\t\t\t\tref={this.saveNodeType(\"edgeLeft\")}\n\t\t\t\t\tshow={selected}\n\t\t\t\t\tcx={position[0]}\n\t\t\t\t\tcy={position[1]}\n\t\t\t\t\tr={r}\n\t\t\t\t\tfill={edgeFill}\n\t\t\t\t\tstroke={anchor === \"edgeLeft\" ? stroke : edgeStroke}\n\t\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\t\tstrokeOpacity={1}\n\t\t\t\t\tplacement=\"left\"\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tinteractiveCursorClass={edgeInteractiveCursor}\n\t\t\t\t\tonDragStart={this.handleEdgeLeftDragStart}\n\t\t\t\t\tonDrag={this.handleEdgeLeftDrag}\n\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t/>\n\t\t\t\t<ClickableRect\n\t\t\t\t\tref={this.saveNodeType(\"edgeRight\")}\n\t\t\t\t\tshow={selected}\n\t\t\t\t\tcx={position[0]}\n\t\t\t\t\tcy={position[1]}\n\t\t\t\t\tr={r}\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tfill={edgeFill}\n\t\t\t\t\tstroke={anchor === \"edgeRight\" ? stroke : edgeStroke}\n\t\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\t\tstrokeOpacity={1}\n\t\t\t\t\tinteractiveCursorClass={edgeInteractiveCursor}\n\t\t\t\t\tonDragStart={this.handleEdgeRightDragStart}\n\t\t\t\t\tonDrag={this.handleEdgeRightDrag}\n\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t/>\n\t\t\t\t<BackgroundHover\n\t\t\t\t\tref={this.saveNodeType(\"background\")}\n\t\t\t\t\tshow={selected}\n\t\t\t\t\tposition={position}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tdegrees={degrees}\n\t\t\t\t\tcx={position[0]}\n\t\t\t\t\tcy={position[1]}\n\t\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nexport function getNewXY(moreProps) {\n\tconst {\n\t\txScale,\n\t\tchartConfig: { yScale },\n\t\txAccessor,\n\t\tplotData,\n\t\tmouseXY,\n\t} = moreProps;\n\tconst mouseY = mouseXY[1];\n\n\tconst x = getXValue(xScale, xAccessor, mouseXY, plotData);\n\n\tconst [small, big] = yScale.domain().slice().sort(d3Ascending);\n\tconst y = yScale.invert(mouseY);\n\tconst newY = Math.min(Math.max(y, small), big);\n\n\treturn [x, newY];\n}\n\nTransform.propTypes = {\n\tindex: PropTypes.number,\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func.isRequired,\n\tonUnSelect: PropTypes.func.isRequired,\n\n\tr: PropTypes.number.isRequired,\n\tdefaultClassName: PropTypes.string,\n\n\tselected: PropTypes.bool,\n\n\tstroke: PropTypes.string.isRequired,\n\tfill: PropTypes.string.isRequired,\n\n\tedgeStrokeWidth: PropTypes.number.isRequired,\n\tedgeStroke: PropTypes.string.isRequired,\n\tedgeFill: PropTypes.string.isRequired,\n\thoverText: PropTypes.object.isRequired,\n};\n\nTransform.defaultProps = {\n\tonDrag: noop,\n\tonEdge1Drag: noop,\n\tonEdge2Drag: noop,\n\tonDragComplete: noop,\n\tonSelect: noop,\n\tonUnSelect: noop,\n\n\tselected: false,\n\tfill: \"#FFFFFF\",\n\tstroke: \"#000000\",\n\tedgeStroke: \"#000000\",\n\tedgeFill: \"#FFFFFF\",\n\tedgeStrokeWidth: 2,\n\tr: 5,\n\tstrokeWidth: 1,\n\tstrokeOpacity: 1,\n\thoverText: {\n\t\tenable: false,\n\t},\n};\n\nexport default Transform;\n"]}