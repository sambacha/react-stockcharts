{"version":3,"sources":["../../../src/lib/annotation/SvgPathAnnotation.js"],"names":["SvgPathAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","stroke","opacity","xAccessor","path","helper","x","y","fill","tooltip","position","id","Component","plotData","xFunc","yFunc","xPos","yPos","propTypes","PropTypes","string","func","isRequired","object","number","defaultProps"],"mappings":"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","file":"SvgPathAnnotation.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { functor, uniqueId } from \"../utils\";\n\nclass SvgPathAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tconst { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tconst { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tconst { className, stroke, opacity } = this.props;\n\t\tconst { xAccessor, xScale, yScale, path } = this.props;\n\n\t\tconst { x, y, fill, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\tconst position =\n\t\t\ttooltip === \"Go long\"\n\t\t\t\t? `M ${x} ${y + 60} ${x},${y + 10}`\n\t\t\t\t: `M ${x} ${y - 60} ${x},${y - 10}`;\n\n\t\tconst id = uniqueId(\"arrow\");\n\n\t\treturn (<g className={className} onClick={this.handleClick}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<defs>\n\t\t\t\t<marker\n\t\t\t\t\tid={`arrowhead-${id}`}\n\t\t\t\t\tviewBox=\"0 0 10 10\"\n\t\t\t\t\trefX=\"7\"\n\t\t\t\t\trefY=\"5\"\n\t\t\t\t\tmarkerUnits=\"strokeWidth\"\n\t\t\t\t\tmarkerWidth=\"4\"\n\t\t\t\t\tmarkerHeight=\"3\"\n\t\t\t\t\torient=\"auto\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M 0 0 L 10 5 L 0 10 z\"\n\t\t\t\t\t\tstroke=\"none\"\n\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t></path>\n\t\t\t\t</marker>\n\t\t\t</defs>\n\n\t\t\t<path\n\t\t\t\td={position}\n\t\t\t\tstroke={fill}\n\t\t\t\tstrokeWidth=\"8\"\n\t\t\t\tfill={fill}\n\t\t\t\tmarkerEnd={`url(#arrowhead-${id})`}\n\t\t\t></path>\n\n\t\t</g>);\n\t}\n}\n\nfunction helper(props, xAccessor, xScale, yScale) {\n\tconst { x, y, datum, fill, tooltip, plotData } = props;\n\n\tconst xFunc = functor(x);\n\tconst yFunc = functor(y);\n\n\tconst [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\tx: xPos,\n\t\ty: yPos,\n\t\tfill: functor(fill)(datum),\n\t\ttooltip: functor(tooltip)(datum),\n\t};\n}\n\nSvgPathAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\tpath: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n};\n\nSvgPathAnnotation.defaultProps = {\n\tclassName: \"react-stockcharts-svgpathannotation\",\n\topacity: 1,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nexport default SvgPathAnnotation;\n"]}